import{a as C,r as N,w as g,o as t,b as o,t as m,e as U,f as V,h as k,i as e,v as b,F as h,j as w,c as $,u as a,k as R,l as E,m as Z,p as z,q as I,s as D,x as S,y as T,z as M,A as j,B as A}from"./entry.36864a2a.js";const B=C({__name:"MoeTag",props:{tag:{type:String,required:!0},editing:{type:Boolean,default:!1},hoverText:{type:String,default:""}},setup(f){return(v,i)=>{const u=N("tooltip");return g((t(),o("div",{class:U([{"cursor-pointer":f.editing},"rounded-xl w-max bg-teal-600 px-2 items-center flex flex-row gap-2"])},m(f.tag),3)),[[u,f.editing?f.hoverText:""]])}}}),K={class:"flex flex-col pl-8 gap-4 pt-4"},F={class:"flex flex-col"},q=e("span",null,"Neuer Tag",-1),H={class:"flex flex-row"},L=["disabled"],G=e("h4",null,"Aktiv",-1),J={class:"flex flex-row gap-4"},O=e("h4",null,"Inaktiv",-1),P={class:"flex flex-row gap-4"},Q=C({__name:"MoeEditTags",setup(f){const v=V(),i=v.currentRecipe,u=v.data.tags,p=k("");function r(c){u.push(c)}return(c,_)=>{const l=B;return t(),o("section",{class:"flex rounded pb-20",onClick:_[2]||(_[2]=R(()=>{},["stop"]))},[e("div",K,[e("label",F,[q,e("div",H,[g(e("input",{"onUpdate:modelValue":_[0]||(_[0]=n=>p.value=n),class:"bg-gray-500 rounded rounded-r-none",type:"text"},null,512),[[b,p.value]]),e("button",{class:U([{grayscale:!p.value},"bg-teal-600 rounded px-2 rounded-l-none"]),disabled:!p.value,onClick:_[1]||(_[1]=n=>r(p.value))}," Neu ",10,L)])]),G,e("div",J,[(t(!0),o(h,null,w(a(i).tags,(n,x)=>(t(),$(l,{key:x,editing:"",tag:n,"hover-text":"Entfernen",onClick:d=>a(i).tags.splice(x,1)},null,8,["tag","onClick"]))),128))]),O,e("div",P,[(t(!0),o(h,null,w([...a(u)].filter(n=>!a(i).tags.includes(n)),(n,x)=>(t(),$(l,{key:x,editing:"","hover-text":"Hinzuf\xFCgen",tag:n,onClick:d=>a(i).tags.push(n)},null,8,["tag","onClick"]))),128))])])])}}}),W={flex:"~ col","gap-4":""},X=e("div",{flex:"~ row","justify-around":"","text-center":""},[e("span",{w:"30%"},"Zutat"),e("span",{w:"30%"},"Menge"),e("span",{w:"30%"},"Notizen"),e("span",{w:"10%"})],-1),Y={flex:"~ col"},ee={w:"30%","text-center":""},te=["onUpdate:modelValue"],ne={w:"30%","text-center":""},se=["onUpdate:modelValue"],oe={w:"30%","text-center":""},le=["onUpdate:modelValue"],ae={w:"10%",class:"px-2 text-teal-400"},re=["onClick"],ie=C({__name:"MoeEditIngredients",setup(f){const i=V().currentRecipe,u=k();function p(){i.ingredients.push(Z()),z(()=>{var c;(c=u.value.at(-1))==null||c.focus()})}function r(c){switch(c.key){case"Enter":p();break}}return(c,_)=>{const l=I;return t(),o("section",W,[X,e("div",Y,[(t(!0),o(h,null,w(a(i).ingredients,(n,x)=>(t(),o("div",{key:x,flex:"~ row","py-2":"","justify-around":"",class:"even:hover:bg-gray-600 even:bg-gray-700 hover:bg-gray-600"},[e("div",ee,[g(e("input",{ref_for:!0,ref_key:"name",ref:u,"onUpdate:modelValue":d=>n.name=d,class:"bg-gray-5 rounded",type:"text",onKeydown:r},null,40,te),[[b,n.name]])]),e("div",ne,[g(e("input",{"onUpdate:modelValue":d=>n.amount=d,class:"bg-gray-5 rounded",type:"text",onKeydown:r},null,40,se),[[b,n.amount]])]),e("div",oe,[g(e("input",{"onUpdate:modelValue":d=>n.notes=d,class:"bg-gray-5 rounded",type:"text",onKeydown:r},null,40,le),[[b,n.notes]])]),e("div",ae,[e("button",{onClick:d=>a(i).ingredients.splice(x,1)},"Entfernen",8,re)])]))),128))]),e("div",null,[e("button",{"bg-gray-6":"","hover:bg-gray-5":"","rounded-md":"","p-2":"",flex:"~ row","items-center":"",onClick:p},[E(l,{name:"fa:plus"})])])])}}}),ce={key:0,class:"w-3/4 flex flex-col gap-4 p-4 relative"},de={class:"text-lg flex flex-row items-center"},ue={class:"flex flex-row flex-wrap gap-2"},pe={class:"text-lg"},_e={class:"flex flex-row flex-wrap gap-2"},xe={key:0,class:"table-fixed w-full border-collapse"},ge=e("thead",null,[e("th",{class:"w-1/3"},"Zutat"),e("th",{class:"w-1/3"},"Menge"),e("th",{class:"w-1/3"},"Notizen")],-1),fe={class:"border-t-2 border-b-2"},ve={class:"text-lg"},me={class:"flex flex-row flex-wrap gap-2"},he={class:"list-decimal pl-4"},we={key:0,"p-4":"",absolute:"","top-16":"","bg-gray-8":"","text-gray-3":"","w-full":"","left-0":"",flex:"~ col gap-4",style:{height:"calc(100% - 4rem)"}},ye={flex:"~ row","justify-between":"","items-center":""},be={"text-2xl":""},ke={key:1},Ce=C({__name:"[id]",setup(f){const v=V();v.selectRecipe(D().params.id.toString());const i=k(!1),u=k(null),p=S(()=>{switch(u.value){case"Tags":return Q;case"Zutaten":return ie;case"Anweisungen":return A("MoeEditInstructions")}}),r=v.currentRecipe;function c(_){this.editing=!0,this.editType=_}return(_,l)=>{const n=B,x=I,d=N("tooltip");return a(r)?(t(),o("div",ce,[g(e("input",{"onUpdate:modelValue":l[0]||(l[0]=s=>a(r).name=s),class:"w-96 px-2 text-2xl bg-gray-400 rounded"},null,512),[[b,a(r).name]]),e("h3",de,[T(" Tags "),e("button",{class:"ml-2 text-sm text-teal-200",onClick:l[1]||(l[1]=s=>c("Tags"))},"bearbeiten")]),e("div",ue,[(t(!0),o(h,null,w(a(r).tags,(s,y)=>(t(),$(n,{key:y,tag:s},null,8,["tag"]))),128))]),e("h3",pe,[T(" Zutaten "),e("button",{class:"ml-2 text-sm text-teal-200",onClick:l[2]||(l[2]=s=>c("Zutaten"))},"bearbeiten")]),e("div",_e,[a(r).ingredients.length?(t(),o("table",xe,[ge,e("tbody",fe,[(t(!0),o(h,null,w(a(r).ingredients,(s,y)=>(t(),o("tr",{key:y,class:"even:hover:bg-gray-500 even:bg-gray-600 hover:bg-gray-500"},[g(e("td",{style:{"text-overflow":"ellipsis"},class:"w-1/3 pl-4 py-2 text-xl text-center overflow-x-hidden whitespace-nowrap"},m(s.name),513),[[d,s.name]]),g(e("td",{style:{"text-overflow":"ellipsis"},class:"w-1/3 pl-4 py-2 border-r-2 text-center border-l-2 overflow-x-hidden whitespace-nowrap"},m(s.amount),513),[[d,s.amount]]),g(e("td",{style:{"text-overflow":"ellipsis"},class:"w-1/3 pl-4 text-center py-2 overflow-x-hidden whitespace-nowrap"},m(s.notes),513),[[d,s.notes]])]))),128))])])):M("",!0)]),e("h3",ve,[T(" Zubereitung "),e("button",{class:"ml-2 text-sm text-teal-200",onClick:l[3]||(l[3]=s=>c("Anweisungen"))},"bearbeiten")]),e("div",me,[e("ol",he,[(t(!0),o(h,null,w(a(r).instructions,(s,y)=>(t(),o("li",{key:y},m(s),1))),128))])]),i.value?(t(),o("section",we,[e("header",ye,[e("span",be,m(u.value),1),e("button",{"bg-gray-6":"","hover:bg-gray-5":"","rounded-md":"","p-2":"",flex:"~ row","items-center":"",onClick:l[4]||(l[4]=s=>i.value=!1)},[E(x,{name:"fa:close"})])]),e("main",null,[(t(),$(j(a(p))))])])):M("",!0)])):(t(),o("div",ke))}}});export{Ce as default};

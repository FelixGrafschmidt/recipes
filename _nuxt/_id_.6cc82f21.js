import{a as k,r as B,w as y,o,b as s,t as m,e as I,f as M,h as f,i as e,v as w,F as b,j as $,c as Q,u as a,k as N,l as L,m as j,p as Z,q as E,s as C,x as U,y as H,z as R,A as S,B as T,C as D}from"./entry.279bab3d.js";const z=k({__name:"MoeTag",props:{tag:{type:String,required:!0},editing:{type:Boolean,default:!1},hoverText:{type:String,default:""}},setup(p){return(d,c)=>{const u=B("tooltip");return y((o(),s("div",{class:I([{"cursor-pointer":p.editing},"rounded-xl w-max bg-teal-600 px-2 items-center flex flex-row gap-2"])},m(p.tag),3)),[[u,p.editing?p.hoverText:""]])}}}),A={class:"flex flex-col pl-8 gap-4 pt-4"},F={class:"flex flex-col"},K=e("span",null,"Neuer Tag",-1),q={class:"flex flex-row"},G=["disabled"],J=e("h4",null,"Aktiv",-1),O={class:"flex flex-row gap-4"},P=e("h4",null,"Inaktiv",-1),W={class:"flex flex-row gap-4"},X=k({__name:"MoeEditTags",setup(p){const d=M(),c=d.currentRecipe,u=d.data.tags,i=f("");function v(t){u.push(t)}return(t,g)=>{const h=z;return o(),s("section",{class:"flex rounded pb-20",onClick:g[2]||(g[2]=N(()=>{},["stop"]))},[e("div",A,[e("label",F,[K,e("div",q,[y(e("input",{"onUpdate:modelValue":g[0]||(g[0]=n=>i.value=n),class:"bg-gray-500 rounded rounded-r-none px-2",type:"text"},null,512),[[w,i.value]]),e("button",{class:I([{grayscale:!i.value},"bg-teal-600 rounded px-2 rounded-l-none"]),disabled:!i.value,onClick:g[1]||(g[1]=n=>v(i.value))}," Neu ",10,G)])]),J,e("div",O,[(o(!0),s(b,null,$(a(c).tags,(n,l)=>(o(),Q(h,{key:l,editing:"",tag:n,"hover-text":"Entfernen",onClick:_=>a(c).tags.splice(l,1)},null,8,["tag","onClick"]))),128))]),P,e("div",W,[(o(!0),s(b,null,$([...a(u)].filter(n=>!a(c).tags.includes(n)),(n,l)=>(o(),Q(h,{key:l,editing:"","hover-text":"Hinzuf\xFCgen",tag:n,onClick:_=>a(c).tags.push(n)},null,8,["tag","onClick"]))),128))])])])}}}),Y={flex:"~ col","gap-4":""},ee=e("div",{flex:"~ row","justify-around":"","text-center":""},[e("span",{w:"30%"},"Zutat"),e("span",{w:"30%"},"Menge"),e("span",{w:"30%"},"Notizen"),e("span",{w:"10%"})],-1),te={flex:"~ col"},ne={w:"30%","text-center":""},oe=["onUpdate:modelValue"],se={w:"30%","text-center":""},le=["onUpdate:modelValue"],re={w:"30%","text-center":""},ae=["onUpdate:modelValue"],ie={w:"10%",class:"px-2 text-teal-400"},de=["onClick"],ce=k({__name:"MoeEditIngredients",setup(p){const c=M().currentRecipe,u=f();function i(){c.ingredients.push(j()),Z(()=>{var t;(t=u.value.at(-1))==null||t.focus()})}function v(t){switch(t.key){case"Enter":i();break}}return(t,g)=>{const h=E;return o(),s("section",Y,[ee,e("div",te,[(o(!0),s(b,null,$(a(c).ingredients,(n,l)=>(o(),s("div",{key:l,flex:"~ row","py-2":"","justify-around":"",class:"even:hover:bg-gray-600 even:bg-gray-700 hover:bg-gray-600"},[e("div",ne,[y(e("input",{ref_for:!0,ref_key:"name",ref:u,"onUpdate:modelValue":_=>n.name=_,"px-2":"",class:"bg-gray-5 rounded",type:"text",onKeydown:v},null,40,oe),[[w,n.name]])]),e("div",se,[y(e("input",{"onUpdate:modelValue":_=>n.amount=_,"px-2":"",class:"bg-gray-5 rounded",type:"text",onKeydown:v},null,40,le),[[w,n.amount]])]),e("div",re,[y(e("input",{"onUpdate:modelValue":_=>n.notes=_,"px-2":"",class:"bg-gray-5 rounded",type:"text",onKeydown:v},null,40,ae),[[w,n.notes]])]),e("div",ie,[e("button",{onClick:_=>a(c).ingredients.splice(l,1)},"Entfernen",8,de)])]))),128))]),e("div",null,[e("button",{"bg-gray-6":"","hover:bg-gray-5":"","rounded-md":"","p-2":"",flex:"~ row","items-center":"",onClick:i},[L(h,{name:"fa:plus"})])])])}}}),ue={key:0,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",height:"20",width:"20"},ge=e("path",{d:"M9.417 13.958H10.625V10.625H13.958V9.417H10.625V6.042H9.417V9.417H6.042V10.625H9.417ZM10 17.917Q8.333 17.917 6.896 17.302Q5.458 16.688 4.385 15.615Q3.312 14.542 2.698 13.104Q2.083 11.667 2.083 10Q2.083 8.333 2.698 6.885Q3.312 5.438 4.385 4.365Q5.458 3.292 6.896 2.688Q8.333 2.083 10 2.083Q11.667 2.083 13.115 2.688Q14.562 3.292 15.635 4.365Q16.708 5.438 17.312 6.885Q17.917 8.333 17.917 10Q17.917 11.667 17.312 13.104Q16.708 14.542 15.635 15.615Q14.562 16.688 13.115 17.302Q11.667 17.917 10 17.917ZM10 10Q10 10 10 10Q10 10 10 10Q10 10 10 10Q10 10 10 10Q10 10 10 10Q10 10 10 10Q10 10 10 10Q10 10 10 10ZM10 16.708Q12.792 16.708 14.75 14.75Q16.708 12.792 16.708 10Q16.708 7.208 14.75 5.25Q12.792 3.292 10 3.292Q7.208 3.292 5.25 5.25Q3.292 7.208 3.292 10Q3.292 12.792 5.25 14.75Q7.208 16.708 10 16.708Z"},null,-1),pe=[ge],_e={key:1,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"12px",height:"12px"},xe=e("path",{d:"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z"},null,-1),fe=[xe],ve={key:2,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"20px",height:"20px"},he=e("path",{style:{"line-height":"normal","text-indent":"0","text-align":"start","text-decoration-line":"none","text-decoration-style":"solid","text-decoration-color":"#000","text-transform":"none","block-progression":"tb",isolation:"auto","mix-blend-mode":"normal"},d:"M 24.984375 2 L 18.625 8.3261719 C 18.228 8.7231719 18.228 9.368625 18.625 9.765625 C 19.022 10.162625 19.6655 10.162625 20.0625 9.765625 L 24 5.84375 L 24 15 L 3 15 L 3 17 L 47 17 L 47 15 L 26 15 L 26 5.84375 L 29.9375 9.765625 C 30.3345 10.162625 30.979953 10.162625 31.376953 9.765625 C 31.773953 9.368625 31.772 8.7231719 31.375 8.3261719 L 25.015625 2 L 25 2.015625 L 24.984375 2 z M 3 24 L 3 26 L 47 26 L 47 24 L 3 24 z M 3 33.013672 L 3 35.013672 L 23.998047 35.013672 C 23.998245 35.0144 24 35.014909 24 35.015625 L 24 44.171875 L 20.0625 40.248047 C 19.6655 39.851047 19.022 39.851047 18.625 40.248047 C 18.228 40.645047 18.228 41.2905 18.625 41.6875 L 24.984375 48.013672 L 25 47.998047 L 25.015625 48.013672 L 31.375 41.6875 C 31.772 41.2905 31.773953 40.647 31.376953 40.25 C 30.979953 39.853 30.3345 39.853 29.9375 40.25 L 26 44.171875 L 26 35.015625 C 26 35.014909 26.001767 35.0144 26.001953 35.013672 L 47 35.013672 L 47 33.013672 L 3 33.013672 z","font-weight":"400","font-family":"sans-serif","white-space":"normal",overflow:"visible"},null,-1),me=[he],ye=k({__name:"MoeIcon",props:{name:{type:String,required:!0}},setup(p){return(d,c)=>p.name==="add"?(o(),s("svg",ue,pe)):p.name==="close"?(o(),s("svg",_e,fe)):p.name==="move"?(o(),s("svg",ve,me)):C("",!0)}}),we={class:"flex flex-row"},be=["onUpdate:modelValue"],$e={key:1,class:"bg-gray-7 h-20 rounded rounded-r-none p-1","px-2":"","overflow-y-auto":"","w-full":"","cursor-default":""},ke={class:"flex flex-col gap-1"},Le=["onClick"],Ce=["onClick"],Qe={class:"flex flex-row items-center justify-center ml-4 cursor-pointer"},Me=k({__name:"MoeEditInstructions",setup(p){const d=f(-1),c=f(),u=f(!1),i=f(!1),t=M().currentRecipe;function g(){t.instructions.push(""),d.value=t.instructions.length-1,Z(()=>{c.value.focus()})}function h(n){d.value===n&&(d.value=-1),t.instructions.splice(n,1),t.instructions.length===0&&(i.value=!1)}return(n,l)=>{const _=ye,V=E;return o(),s("section",null,[L(a(H),{list:a(t).instructions,"item-key":"id",disabled:i.value,class:"flex flex-col gap-4",onStart:l[1]||(l[1]=r=>u.value=!0),onEnd:l[2]||(l[2]=r=>u.value=!1)},{item:U(r=>[e("section",we,[d.value===r.index?y((o(),s("textarea",{key:0,ref_key:"textarea",ref:c,"onUpdate:modelValue":x=>a(t).instructions[r.index]=x,class:"bg-gray-7 rounded rounded-r-none p-1","px-2":"","h-20":"","overflow-y-auto":"","w-full":"",type:"text"},null,8,be)),[[w,a(t).instructions[r.index]]]):(o(),s("p",$e,m(r.element),1)),e("div",ke,[d.value===r.index?(o(),s("button",{key:0,class:"w-28 rounded-l-none rounded-br-none rounded bg-gray-6 hover:bg-gray-5 px-2 h-1/2 py-1",onClick:l[0]||(l[0]=x=>{i.value=!1,d.value=-1})}," Fertig ")):(o(),s("button",{key:1,class:"w-28 rounded-l-none rounded-br-none rounded bg-gray-6 hover:bg-gray-5 px-2 h-1/2 py-1",onClick:x=>{i.value=!0,d.value=r.index}}," Bearbeiten ",8,Le)),e("button",{class:"w-28 rounded rounded-tr-none rounded-l-none bg-gray-6 hover:bg-gray-5 px-2 h-1/2 py-1",onClick:x=>h(r.index)}," Entfernen ",8,Ce)]),e("div",Qe,[L(_,{name:"move",class:"dragger"})])])]),footer:U(()=>[e("div",null,[e("button",{"bg-gray-6":"","hover:bg-gray-5":"","rounded-md":"","p-2":"",flex:"~ row","items-center":"",onClick:g},[L(V,{name:"fa:plus"})])])]),_:1},8,["list","disabled"])])}}}),Ve={class:"text-xl flex flex-row items-center text-gray-3"},Te={key:0,class:"flex flex-row flex-wrap gap-2"},Ie={class:"text-xl text-gray-3"},Ee={key:1,flex:"","flex-col":"","text-gray-3":""},Ue=e("div",{flex:"~ row","justify-around":"","text-center":"","bg-gray-7":"","h-8":"","rounded-t-md":"","items-center":"","border-1":"","py-6":"","font-bold":""},[e("span",{w:"30%"},"Zutat"),e("span",{w:"30%"},"Menge"),e("span",{w:"30%"},"Notizen")],-1),Ze={flex:"~ col","rounded-b-md":""},ze={w:"30%","text-center":""},Be={w:"30%","text-center":""},Ne={w:"30%","text-center":""},je={class:"text-xl text-gray-3"},He={class:"flex flex-row flex-wrap gap-2","text-gray-3":"","text-lg":""},Re={class:"list-decimal pl-4"},Se={key:2,"p-4":"",absolute:"","top-16":"","bg-gray-9":"","text-gray-3":"","w-full":"","left-0":"",flex:"~ col gap-4",style:{height:"calc(100% - 4rem)"}},De={flex:"~ row","justify-between":"","items-center":""},Ae={"text-2xl":""},Fe={key:1},qe=k({__name:"[id]",setup(p){const d=M(),c=f(null);d.selectRecipe(R().params.id.toString());const u=f(!1),i=f(null),v=S(()=>{switch(i.value){case"Tags":return X;case"Zutaten":return ce;case"Anweisungen":return Me}}),t=d.currentRecipe;function g(n){c.value.scrollTo({top:0}),u.value=!0,i.value=n}function h(){u.value=!1,t.tags=t.tags.filter(n=>n),t.ingredients=t.ingredients.filter(n=>n.name),t.instructions=t.instructions.filter(n=>n)}return(n,l)=>{const _=z,V=E;return a(t)?(o(),s("div",{key:0,ref_key:"content",ref:c,class:I(["w-3/4 flex flex-col gap-4 p-4 relative",{"overflow-y-auto":!u.value}])},[y(e("input",{"onUpdate:modelValue":l[0]||(l[0]=r=>a(t).name=r),class:"w-96 px-2 text-2xl bg-gray-5 rounded"},null,512),[[w,a(t).name]]),e("h3",Ve,[T(" Tags "),e("button",{class:"ml-2 text-sm text-teal-200",onClick:l[1]||(l[1]=r=>g("Tags"))},"bearbeiten")]),a(t).tags.length?(o(),s("div",Te,[(o(!0),s(b,null,$(a(t).tags,(r,x)=>(o(),Q(_,{key:x,tag:r},null,8,["tag"]))),128))])):C("",!0),e("h3",Ie,[T(" Zutaten "),e("button",{class:"ml-2 text-sm text-teal-200",onClick:l[2]||(l[2]=r=>g("Zutaten"))},"bearbeiten")]),a(t).ingredients.length?(o(),s("div",Ee,[Ue,e("div",Ze,[(o(!0),s(b,null,$(a(t).ingredients,(r,x)=>(o(),s("div",{key:x,flex:"~ row","py-2":"","last:rounded-b-md":"","border-b-1":"","border-x-1":"","justify-around":"","hover:bg-gray-5":"","bg-gray-6":"","even:bg-gray-7":"","even:hover:bg-gray-5":""},[e("div",ze,m(r.name),1),e("div",Be,m(r.amount),1),e("div",Ne,m(r.notes),1)]))),128))])])):C("",!0),e("h3",je,[T(" Zubereitung "),e("button",{class:"ml-2 text-sm text-teal-200",onClick:l[3]||(l[3]=r=>g("Anweisungen"))},"bearbeiten")]),e("div",He,[e("ol",Re,[(o(!0),s(b,null,$(a(t).instructions,(r,x)=>(o(),s("li",{key:x},m(r),1))),128))])]),u.value?(o(),s("section",Se,[e("header",De,[e("span",Ae,m(i.value),1),e("button",{"bg-gray-7":"","hover:bg-gray-6":"","rounded-md":"","p-2":"",flex:"~ row","items-center":"",onClick:h},[L(V,{name:"fa:close"})])]),e("main",null,[(o(),Q(D(a(v))))])])):C("",!0)],2)):(o(),s("div",Fe))}}});export{qe as default};
